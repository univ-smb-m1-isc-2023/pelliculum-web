<div class="flex flex-col space-y-0">
    <div class="flex flex-row items-center justify-between">
        <p class="text-2xl font-normal">73 Commentaires</p>
    </div>
    <div class="relative flex space-x-16 border-t border-custom-border pb-1.5"></div>

    <!-- Post a comment -->
    <div class="pb-10">
        <div class="flex space-x-2">
            <div class="avatar mt-2">
                <img src="https://i.pravatar.cc/150" alt="avatar" />
            </div>
            <div class="flex flex-col flex-grow pr-4">
                <div class="relative">
                    <input class="effect-3" type="text" placeholder="Ecrire votre commentaire">
                    <span class="focus-border"></span>
                </div>
                <div class="flex flex-row space-x-2 pt-0.5">
                    <app-stars size="w-4" [stars]="5" [value]="5" />
                    <p class="text-sm">5</p>
                </div>
            </div>
        </div>

    </div>

    <div class="flex flex-col space-x-0">
        @for (rating of ratings; track rating; let last = $last) {
            <!-- Rating part -->
            <div class="flex flex-col space-y-2 py-1">
                <!-- Avatar and user name -->
                <div class="flex flex-row items-center space-x-3 truncate">
                    <div class="avatar avatar-sm">
                        <img src="https://i.pravatar.cc/150" alt="avatar" />
                    </div>
                    <p class="text-md">Note de {{ rating.user }}</p>
                    <!-- Rating -->
                    <div class="flex flex-row items-center space-x-1.5">
                        <app-stars size="w-5" [stars]="rating.stars" [value]="rating.value" />
                        <p class="text-sm">{{ rating.value }}</p>
                    </div>
                    <span class="text-sm font-normal text-primary">{{ rating.year }}</span>
                </div>

                <!-- User comment -->
                <p class="line-clamp-3">{{ rating.comment }}</p>

                <!-- Likes and comments -->
                <div class="flex flex-grow items-end">
                    <div class="flex flex-row space-x-6">
                        <!-- Likes -->
                        <div class="flex cursor-pointer select-none flex-row items-center space-x-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-thumb-up"
                                 width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                 fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path
                                    d="M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3" />
                            </svg>
                            <p>{{ rating.likes }}</p>
                        </div>

                        <!-- Comments -->
                        <div class="flex cursor-pointer select-none flex-row items-center space-x-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages"
                                 width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                                 fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10" />
                                <path d="M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2" />
                            </svg>
                            <p>{{ rating.comments }}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="relative flex space-x-16 border-b border-custom-light-border pb-1.5"></div>
        }
    </div>
</div>
