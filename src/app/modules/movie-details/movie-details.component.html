@if (currentMovie) {
    <div class="flex flex-col space-y-56">
        <div class="relative">

            <!-- Backdrop with gradients -->
            <app-backdrop class="opacity-75" [backdropPath]="currentMovie.backdrop_path" />
            <div class="absolute inset-0 bottom-0 bg-gradient-to-t from-[#100F10] to-transparent to-100%"></div>


            <!-- Poster and movie details -->
            <div class="absolute -bottom-48 flex flex-row space-x-4 w-full xl:px-40 lg:px-14 md:px-8 sm:px-1 xs:px-1">
                <!-- Poster -->
                <img class="w-2/12 h-fit rounded-lg"
                     [src]="'https://image.tmdb.org/t/p/w220_and_h330_face' + currentMovie.poster_path"
                     alt="poster du film" />
                <!-- Movie details -->
                <div class="w-7/12 flex flex-col space-y-2">
                    <!-- Title -->
                    <div class="items-center">
                        <p class="text-4xl font-bold">{{ currentMovie.title }}</p>
                        <p class="text-sm">Réalisé par <span class="cursor-pointer hover:text-primary">{{director}}</span></p>
                    </div>

                    <div class="flex flex-col space-y-0.5">
                        <!-- Rating -->
                        <app-stars size="w-5" [stars]="5" [value]="currentMovie.vote_average"/>

                        <!-- Date and duration -->
                        <div class="flex flex-row space-x-4">
                            <!-- Date -->
                            <div class="flex flex-row space-x-2 items-center">
                                <p class="font-bold">Sortie:</p>
                                <p class="text-xs cursor-pointer hover:text-primary">{{ currentMovie.release_date.substring(0, 4) }}</p>
                            </div>
                            <!-- Duration -->
                            <div class="flex flex-row space-x-2 items-center">
                                <p class="font-bold">Durée:</p>
                                <p class="text-xs">{{ currentMovie.runtime }} minutes</p>
                            </div>
                        </div>

                        <!-- Genres -->
                        <div class="flex flex-row items-center space-x-2">
                            <p class="font-bold">Genres:</p>
                            @for (genre of genres; track genre.id; let first = $first; let last = $last) {
                                <span class="text-xs cursor-pointer hover:text-primary" [ngClass]="{'border-r border-custom-border pr-2' : !last}"> {{ genre.name }} </span>
                            }
                        </div>
                        <!-- Overview -->
                        <p class="text-lg line-clamp-4">{{ currentMovie.overview }}</p>
                    </div>
                </div>

                <div class="w-3/12 bg-transparent border border-custom-border rounded">

                </div>
            </div>
        </div>

        <!-- Rest of the page -->
        <div class="flex flex-col xl:px-40 lg:px-14 md:px-8 sm:px-1 xs:px-1">
            <app-tabs tabsStyle="flex relative space-x-16 rounded-lg bg-[#161616] py-2.5 pb-1.5 pr-16">
                <app-tab name="cast">
                    <app-movie-details-cast-tabs [cast]="cast"></app-movie-details-cast-tabs>
                </app-tab>
                <app-tab name="crew">
                    <app-movie-details-crew-tabs [crew]="crew"></app-movie-details-crew-tabs>
                </app-tab>
            </app-tabs>
            <app-movie-details-rating [id]="currentMovie.id"></app-movie-details-rating>
        </div>
    </div>
}
